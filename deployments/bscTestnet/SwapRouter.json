{
  "address": "0x4B31F790563Ca71FE10cA47D358e818F710ded62",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "tracker",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "PoolTracker_cantSwapSameToken",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SwapRouter_tokensCantBeSwapped",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "userAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "address1",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "address2",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "address1Amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "address2Amount",
          "type": "uint256"
        }
      ],
      "name": "swap",
      "type": "event"
    },
    {
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "address1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "address2",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "inputAmount",
          "type": "uint256"
        }
      ],
      "name": "getSwapAmount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "address1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "address2",
          "type": "address"
        }
      ],
      "name": "getSwapFee",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "address1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "address2",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "inputAmount",
          "type": "uint256"
        }
      ],
      "name": "swapAsset",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "address1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "address2",
          "type": "address"
        }
      ],
      "name": "tokenToRoute",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "transactionHash": "0x31db2bb4f89d554c9748bca59f7dce84fa18caf7108c71298375c504cff99857",
  "receipt": {
    "to": null,
    "from": "0x540467feca43907A701311D0721df481D1f9e238",
    "contractAddress": "0x4B31F790563Ca71FE10cA47D358e818F710ded62",
    "transactionIndex": 0,
    "gasUsed": "2872912",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x3a0b3a4709822f9f19f0ff5e0130404215dcf51897e4f27c90c2ffa902b989b4",
    "transactionHash": "0x31db2bb4f89d554c9748bca59f7dce84fa18caf7108c71298375c504cff99857",
    "logs": [],
    "blockNumber": 38365684,
    "cumulativeGasUsed": "2872912",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x603D1517726A1b3A4BFA097eaBdB8A2d9F633Cf1"
  ],
  "numDeployments": 4,
  "solcInputHash": "f0a7192d4cafea1c59406f0a93a82552",
  "metadata": "{\"compiler\":{\"version\":\"0.8.9+commit.e5eed63a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tracker\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"PoolTracker_cantSwapSameToken\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SwapRouter_tokensCantBeSwapped\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"userAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"address1\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"address2\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"address1Amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"address2Amount\",\"type\":\"uint256\"}],\"name\":\"swap\",\"type\":\"event\"},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"address2\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"inputAmount\",\"type\":\"uint256\"}],\"name\":\"getSwapAmount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"address2\",\"type\":\"address\"}],\"name\":\"getSwapFee\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"address2\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"inputAmount\",\"type\":\"uint256\"}],\"name\":\"swapAsset\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"address1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"address2\",\"type\":\"address\"}],\"name\":\"tokenToRoute\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"details\":\"This contract facilitates token swaps by interacting with liquidity pools. It supports direct swaps between two tokens in a single pool, or routed swaps through an intermediary token. Utilizes the PoolTracker contract to find liquidity pools and perform the necessary asset exchanges.\",\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"tracker\":\"The PoolTracker contract address.\"}},\"getSwapAmount(address,address,uint256)\":{\"details\":\"Considers direct swaps and routed swaps through an intermediary token, utilizing PoolTracker for calculations.\",\"params\":{\"address1\":\"The token being sold.\",\"address2\":\"The token being bought.\",\"inputAmount\":\"The amount of `address1` tokens to swap.\"},\"returns\":{\"_0\":\"output The estimated amount of `address2` tokens to be received.\"}},\"getSwapFee(address,address)\":{\"details\":\"Calculates the total swap fee, accounting for both direct and routed swaps, by querying the associated pools.\",\"params\":{\"address1\":\"The source token address.\",\"address2\":\"The destination token address.\"},\"returns\":{\"_0\":\"fee The total swap fee for the transaction.\"}},\"swapAsset(address,address,uint256)\":{\"details\":\"This function supports direct swaps between tokens in a single pool or routed swaps through an intermediary token. Uses PoolTracker to determine the best swap path and perform the exchange.\",\"params\":{\"address1\":\"The token being sold by the user.\",\"address2\":\"The token being purchased by the user.\",\"inputAmount\":\"The amount of `address1` tokens to swap.\"}},\"tokenToRoute(address,address)\":{\"details\":\"Determines the optimal routing token for a swap between two tokens, based on available liquidity and price feeds.\",\"params\":{\"address1\":\"The address of the first token.\",\"address2\":\"The address of the second token.\"},\"returns\":{\"_0\":\"address The address of the optimal routing token.\"}}},\"title\":\"SwapRouter\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"constructor\":{\"notice\":\"Constructs the SwapRouter and initializes the PoolTracker reference.\"},\"getSwapAmount(address,address,uint256)\":{\"notice\":\"Estimates the output amount for a swap from `address1` to `address2` given an `inputAmount` of `address1`.\"},\"getSwapFee(address,address)\":{\"notice\":\"Retrieves the swap fee required for a swap between `address1` and `address2`.\"},\"swapAsset(address,address,uint256)\":{\"notice\":\"Swaps `inputAmount` of `address1` tokens for `address2` tokens.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/Dex/WeaveSwap.sol\":\"SwapRouter\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\ninterface AggregatorV3Interface {\\n  function decimals() external view returns (uint8);\\n\\n  function description() external view returns (string memory);\\n\\n  function version() external view returns (uint256);\\n\\n  function getRoundData(\\n    uint80 _roundId\\n  ) external view returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);\\n\\n  function latestRoundData()\\n    external\\n    view\\n    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);\\n}\\n\",\"keccak256\":\"0xfe4e8bb4861bb3860ba890ab91a3b818ec66e5a8f544fb608cfcb73f433472cd\",\"license\":\"MIT\"},\"@openzeppelin/contracts/interfaces/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (interfaces/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../token/ERC20/IERC20.sol\\\";\\n\",\"keccak256\":\"0x6ebf1944ab804b8660eb6fc52f9fe84588cee01c2566a69023e59497e7d27f45\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.9.0) (token/ERC20/IERC20.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `to`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `from` to `to` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(address from, address to, uint256 amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\"},\"contracts/Bridge/InterfaceBridge.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\ninterface IZKBridge {\\n    // @notice send a zkBridge message to the specified address at a zkBridge endpoint.\\n    // @param dstChainId - the destination chain identifier\\n    // @param dstAddress - the address on destination chain\\n    // @param payload - a custom bytes payload to send to the destination contract\\n    function send(\\n        uint16 dstChainId,\\n        address dstAddress,\\n        bytes memory payload\\n    ) external payable returns (uint64 nonce);\\n\\n    // @notice gets a quote in source native gas, for the amount that send() requires to pay for message delivery\\n    // @param dstChainId - the destination chain identifier\\n    function estimateFee(uint16 dstChainId) external view returns (uint256 fee);\\n}\\n\\ninterface IZKBridgeReceiver {\\n    // @notice zkBridge endpoint will invoke this function to deliver the message on the destination\\n    // @param srcChainId - the source endpoint identifier\\n    // @param srcAddress - the source sending contract address from the source chain\\n    // @param nonce - the ordered message nonce\\n    // @param payload - a custom bytes payload from send chain\\n    function zkReceive(\\n        uint16 srcChainId,\\n        address srcAddress,\\n        uint64 nonce,\\n        bytes calldata payload\\n    ) external;\\n}\\n\",\"keccak256\":\"0x57b2588179cffda143a904e7f55db5eebc526fa479fd3004ea2f521a7fa438a3\",\"license\":\"MIT\"},\"contracts/Dex/LiquidityPool.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\n// Importing necessary contracts and interfaces\\nimport \\\"@openzeppelin/contracts/interfaces/IERC20.sol\\\";\\nimport \\\"../Bridge/InterfaceBridge.sol\\\";\\nimport \\\"./PoolTracker.sol\\\";\\n\\n// Custom errors for more descriptive and gas-efficient failure handling.\\nerror assetNotCorrect();\\nerror notEnoughTokens();\\nerror notEnoughGas();\\nerror notEnoughTimePassed();\\nerror initialLiquidityAlreadyProvided();\\nerror addressNotCorrect();\\nerror amountTooBig();\\nerror needToCallExistingFunction();\\n\\n/**\\n * @title LiquidityPool\\n * @notice Manages liquidity provision, asset swapping, and yield generation in a decentralized manner.\\n * @dev Implements IZKBridgeReceiver interface for cross-chain interactions and yield farming computations.\\n */\\ncontract LiquidityPool is IZKBridgeReceiver {\\n    // Events\\n    event priceChanged(address _asset, uint256 price);\\n    event liquidityAdded(\\n        address indexed _address,\\n        uint256 _assetOneAmount,\\n        uint256 _assetTwoAmount\\n    );\\n    event liquidityRemoved(\\n        address indexed _address,\\n        uint256 _assetOneAmount,\\n        uint256 _assetTwoAmount\\n    );\\n    event yieldFarmed(address indexed _address, uint256 _amount);\\n\\n    // State variables\\n    address public assetOneAddress;\\n    address public assetTwoAddress;\\n    uint256 public initialLiquidity;\\n    uint256 public liquidity;\\n    uint256 public yield;\\n    uint256 public swapFee = 1000000000000000;\\n    address public owner;\\n\\n    // Reentrancy Guard\\n    bool internal locked;\\n\\n    // TRACK THE LP TOKEN QUANTITY, INITIAL LIQUIDITY\\n    mapping(address => uint256) public lpTokenQuantity;\\n\\n    // Daily yield tracking\\n    mapping(address => uint256) public yieldTaken;\\n\\n    // Timestamp mapping for yield farming\\n    mapping(address => uint256) public lastYieldFarmedTime;\\n    mapping(address => uint256) public initialLiquidityProvidedTime;\\n\\n    /**\\n     * @dev Modifier to prevent reentrancy attacks.\\n     */\\n    modifier noReentrancy() {\\n        require(!locked, \\\"No re-entrancy\\\");\\n        locked = true;\\n        _;\\n        locked = false;\\n    }\\n\\n    /**\\n     * @dev Modifier to restrict functions only to the owner.\\n     */\\n    modifier onlyOwner() {\\n        msg.sender == owner;\\n        _;\\n    }\\n\\n    /**\\n     * @dev Constructor to initialize the liquidity pool with two asset addresses.\\n     * @param _assetOneAddress The address of the first asset.\\n     * @param _assetTwoAddress The address of the second asset.\\n     */\\n    constructor(address _assetOneAddress, address _assetTwoAddress) {\\n        assetOneAddress = _assetOneAddress;\\n        assetTwoAddress = _assetTwoAddress;\\n        owner = msg.sender;\\n        swapFee = 1000000000000000; // 0.001 ether\\n    }\\n\\n    /**\\n     * @dev Function to add initial liquidity to the pool. Only callable by the owner.\\n     * @dev Needs the ERC-20 approval for transferFrom.\\n     * @param _assetOneAmount The amount of the first asset to add.\\n     * @param _assetTwoAmount The amount of the second asset to add.\\n     */\\n    function addInitialLiquidity(\\n        uint256 _assetOneAmount,\\n        uint256 _assetTwoAmount\\n    ) public onlyOwner {\\n        if (initialLiquidityProvidedTime[owner] > 0) {\\n            revert initialLiquidityAlreadyProvided();\\n        }\\n        initialLiquidityProvidedTime[msg.sender] = block.timestamp;\\n\\n        // SENDS THE TOKENS TO THE LIQUIDITY POOL\\n        IERC20(assetOneAddress).transferFrom(\\n            msg.sender,\\n            address(this),\\n            _assetOneAmount\\n        );\\n        IERC20(assetTwoAddress).transferFrom(\\n            msg.sender,\\n            address(this),\\n            _assetTwoAmount\\n        );\\n\\n        // SET THE INITIAL LIQUIDITY\\n        initialLiquidity = _assetOneAmount * _assetTwoAmount;\\n        liquidity = initialLiquidity;\\n\\n        // GIVE LP TOKENS TO THE INITIAL LIQUIDITY PROVIDER\\n        lpTokenQuantity[msg.sender] = initialLiquidity;\\n\\n        // EMIT EVENT\\n        emit liquidityAdded(msg.sender, _assetOneAmount, _assetTwoAmount);\\n    }\\n\\n    /**\\n     * @dev Function to add additional liquidity to the pool.\\n     * @dev Needs the ERC-20 approval for transferFrom.\\n     * @param _asset The address of the first asset.\\n     * @param _secondAsset The address of the second asset.\\n     * @param _amount The amount of the first asset to add.\\n     */\\n    function addLiquidity(\\n        address _asset,\\n        address _secondAsset,\\n        uint256 _amount\\n    ) external noReentrancy {\\n        // SET THE RATIO, require token balance provided in ERC20, reverted if too low\\n        IERC20(_secondAsset).transferFrom(\\n            msg.sender,\\n            address(this),\\n            amountOfOppositeTokenNeeded(_asset, _amount)\\n        );\\n        IERC20(_asset).transferFrom(msg.sender, address(this), _amount);\\n\\n        // give lp tokens to new liquidity provider\\n        lpTokenQuantity[msg.sender] += (_amount *\\n            amountOfOppositeTokenNeeded(_asset, _amount));\\n        liquidity += (_amount * amountOfOppositeTokenNeeded(_asset, _amount));\\n\\n        // EMIT EVENT\\n        emit liquidityAdded(\\n            msg.sender,\\n            amountOfOppositeTokenNeeded(_asset, _amount),\\n            _amount\\n        );\\n    }\\n\\n    /**\\n     * @dev Function to remove liquidity from the pool.\\n     * @param _amount The percentage of liquidity to withdraw(10 -> 10%).\\n     */\\n    function removeLiquidity(uint256 _amount) external noReentrancy {\\n        uint256 userLpTokens = lpTokenQuantity[msg.sender];\\n        uint256 percentageOfLiquidity = (userLpTokens * 1 ether) / liquidity; // How much user owns out of all Liquidity in percentage\\n        uint256 percentageOfUserLiquidity = (percentageOfLiquidity * _amount) /\\n            100; // How much out of their liquidity they want to withdraw in percentage\\n        uint256 resultAssetOne = (percentageOfUserLiquidity * getAssetOne()) /\\n            1 ether;\\n        uint256 resultAssetTwo = (percentageOfUserLiquidity * getAssetTwo()) /\\n            1 ether;\\n        // condition for owner, because of the initial liquidity timer\\n        if (\\n            (msg.sender == owner) &&\\n            (isTimeInitialLiquidity() == false) &&\\n            //the owner has the ability to withdraw liquidity if it wasn't part of initial liquidity\\n            ((lpTokenQuantity[msg.sender] - (resultAssetOne * resultAssetTwo)) <\\n                initialLiquidity)\\n        ) {\\n            revert notEnoughTokens();\\n        }\\n        // check balance if it is high enough to continue, can't get reverted at transfer, it should have the balance but just in case\\n        if (\\n            IERC20(assetOneAddress).balanceOf(address(this)) < resultAssetOne ||\\n            IERC20(assetTwoAddress).balanceOf(address(this)) < resultAssetTwo\\n        ) {\\n            revert notEnoughTokens();\\n        }\\n        IERC20(assetOneAddress).transfer(msg.sender, resultAssetOne);\\n        IERC20(assetTwoAddress).transfer(msg.sender, resultAssetTwo);\\n\\n        // EMIT EVENT\\n        emit liquidityRemoved(msg.sender, resultAssetOne, resultAssetTwo);\\n    }\\n\\n    /**\\n     * @dev Function to sell the first asset and receive the second asset.\\n     * @param _amount The amount of the first asset to sell.\\n     */\\n    function sellAssetOne(\\n        uint256 _amount\\n    ) external payable noReentrancy returns (uint256) {\\n        //PAY THE ETH FEE\\n        if (msg.value < swapFee) {\\n            revert notEnoughGas();\\n        }\\n        yield += swapFee;\\n        uint256 unrequiredFee = msg.value - swapFee; // In case the msg.sender sent more value than it is required\\n        //CALCULATION\\n        uint256 n = getAssetTwo();\\n        uint256 assetOne = getAssetOne() + _amount;\\n        uint256 assetTwo = liquidity / assetOne;\\n        uint256 result = n - assetTwo;\\n        //SENDING THE OPPOSITE ASSET TO THE CALLER FROM LIQUIDITY POOL\\n        IERC20(assetOneAddress).transferFrom(\\n            msg.sender,\\n            address(this),\\n            _amount\\n        );\\n        IERC20(assetTwoAddress).transfer(msg.sender, result);\\n        (bool sent, ) = payable(msg.sender).call{value: unrequiredFee}(\\\"\\\");\\n        require(sent, \\\"Failed to send Ether\\\");\\n        //EVENTS\\n        emit priceChanged(assetOneAddress, assetOnePrice());\\n        emit priceChanged(assetTwoAddress, assetTwoPrice());\\n        // Returns the amount of token\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Function to sell the second asset and receive the first asset.\\n     * @param _amount The amount of the second asset to sell.\\n     */\\n    function sellAssetTwo(\\n        uint256 _amount\\n    ) external payable noReentrancy returns (uint256) {\\n        //PAY THE ETH FEE\\n        if (msg.value < swapFee) {\\n            revert notEnoughGas();\\n        }\\n        yield += swapFee;\\n        uint256 unrequiredFee = msg.value - swapFee; // In case the msg.sender sent more value than it is required\\n        //CALCULATION\\n        uint256 n = getAssetOne();\\n        uint256 assetTwo = getAssetTwo() + _amount;\\n        uint256 assetOne = liquidity / assetTwo;\\n        uint256 result = n - assetOne;\\n        //GETTING THE ASSET FROM CALLER TO THE LIQUIDITY POOL AND SENDING THE OPPOSITE ASSET TO THE CALLER FROM LIQUIDITY POOL\\n        IERC20(assetTwoAddress).transferFrom(\\n            msg.sender,\\n            address(this),\\n            _amount\\n        );\\n        IERC20(assetOneAddress).transfer(msg.sender, result);\\n        (bool sent, ) = payable(msg.sender).call{value: unrequiredFee}(\\\"\\\");\\n        require(sent, \\\"Failed to send Ether\\\");\\n        //EVENTS\\n        emit priceChanged(assetOneAddress, assetOnePrice());\\n        emit priceChanged(assetTwoAddress, assetTwoPrice());\\n        //Returns amount of token\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Function to get the current balance of a given asset held by the contract.\\n     * @param _address The address of the asset.\\n     * @return The current balance of the asset.\\n     */\\n    function getAssetBalace(address _address) public view returns (uint256) {\\n        return IERC20(_address).balanceOf(address(this));\\n    }\\n\\n    /**\\n     * @dev Function to get the current price of the first asset in terms of the second asset.\\n     * @return The current price of the first asset * 10**18.\\n     */\\n    function assetOnePrice() public view returns (uint256) {\\n        return (getAssetTwo() * 1 ether) / getAssetOne();\\n    }\\n\\n    /**\\n     * @dev Function to get the current price of the second asset in terms of the first asset.\\n     * @return The current price of the second asset * 10**18.\\n     */\\n    function assetTwoPrice() public view returns (uint256) {\\n        return (getAssetOne() * 1 ether) / getAssetTwo();\\n    }\\n\\n    /**\\n     * @dev Function to get the amount of the first asset held by the contract.\\n     * @return The current balance of the first asset.\\n     */\\n    function getAssetOne() public view returns (uint256) {\\n        return IERC20(assetOneAddress).balanceOf(address(this));\\n    }\\n\\n    /**\\n     * @dev Function to get the amount of the second asset held by the contract.\\n     * @return The current balance of the second asset.\\n     */\\n    function getAssetTwo() public view returns (uint256) {\\n        return IERC20(assetTwoAddress).balanceOf(address(this));\\n    }\\n\\n    /**\\n     * @dev Function to get the quantity of LP tokens owned by a specific address.\\n     * @param _address The address of the LP token holder.\\n     * @return The quantity of LP tokens owned by the address.\\n     */\\n    function getLpTokenQuantity(\\n        address _address\\n    ) public view returns (uint256) {\\n        if (msg.sender != owner && _address == msg.sender) {\\n            revert addressNotCorrect();\\n        }\\n        return lpTokenQuantity[_address];\\n    }\\n\\n    /**\\n     * @dev Function to get the current ETH balance of the contract.\\n     * @return The current ETH balance of the contract.\\n     */\\n    function addressBalance() external view returns (uint256) {\\n        return address(this).balance;\\n    }\\n\\n    /**\\n     * @dev Function to get the quantity of the second asset that would be returned for a given amount of the first asset.\\n     * @param sellingAsset The address of the asset being sold.\\n     * @param _amount The amount of the first asset being sold.\\n     * @return The quantity of the second asset that would be returned\\n     */\\n    function getSwapQuantity(\\n        address sellingAsset,\\n        uint256 _amount\\n    ) public view returns (uint256) {\\n        if (sellingAsset == assetOneAddress) {\\n            uint256 newAssetOne = getAssetOne() + _amount;\\n            uint256 newAssetTwo = liquidity / newAssetOne;\\n            return getAssetTwo() - newAssetTwo;\\n        } else if (sellingAsset == assetTwoAddress) {\\n            uint256 newAssetTwo = getAssetTwo() + _amount;\\n            uint256 newAssetOne = liquidity / newAssetTwo;\\n            return getAssetOne() - newAssetOne;\\n        } else {\\n            revert assetNotCorrect();\\n        }\\n    }\\n\\n    /**\\n     * @dev Function to get the second part of the liquidity token pair needed for providing liquidity.\\n     * @param _asset The address of the asset.\\n     * @param _amount The amount of the asset.\\n     * @return The quantity of the second asset needed for providing liquidity.\\n     */\\n    function amountOfOppositeTokenNeeded(\\n        address _asset,\\n        uint256 _amount\\n    ) public view returns (uint256) {\\n        uint256 ratio;\\n        if (_asset == assetOneAddress) {\\n            ratio = (getAssetTwo() * 1 ether) / getAssetOne();\\n        } else {\\n            ratio = (getAssetOne() * 1 ether) / getAssetTwo();\\n        }\\n        uint256 amountNeeded = (_amount * ratio) / 1 ether;\\n        return amountNeeded;\\n    }\\n\\n    /////////////////////////////////////////////////////////////////\\n    // Yield Farming and Time Locks\\n\\n    /**\\n     * @dev Function to allow users to claim their yield. Can be called once a day.\\n     *\\n     * @notice sends the request to yield Calculator smart contract to compute yield with lower gas fee\\n     */\\n    function getYield() public payable {\\n        if (isTime() == false) {\\n            revert notEnoughTimePassed();\\n        }\\n        //NOW SEND BACK THE AVAILABLE YIELD\\n        uint16 destinationChain = PoolTracker(owner).destinationChain();\\n        IZKBridge zkBridge = PoolTracker(owner).zkBridge();\\n        address yieldCalculator = PoolTracker(owner).yieldCalculator();\\n        bytes memory newPayload = abi.encode(msg.sender);\\n        uint256 fee = zkBridge.estimateFee(destinationChain);\\n        zkBridge.send{value: fee}(\\n            destinationChain,\\n            yieldCalculator,\\n            newPayload\\n        );\\n        // Pay this to our contract which will fund the bridge contract with tokens\\n        uint256 bridgeFee = zkBridge.estimateFee(destinationChain);\\n        (bool sent, ) = payable(owner).call{value: bridgeFee}(\\\"\\\");\\n        require(sent, \\\"Failed to send Ether\\\");\\n    }\\n\\n    /**\\n     * @dev Returns the request for lower gas fee computation\\n     *\\n     * @param payload returns the computation\\n     *\\n     */\\n    function zkReceive(\\n        uint16 srcChainId,\\n        address srcAddress,\\n        uint64 nonce,\\n        bytes calldata payload\\n    ) external {\\n        (uint256 availableYield, address user) = abi.decode(\\n            payload,\\n            (uint256, address)\\n        );\\n        //TODO handle your business\\n        if (availableYield > address(this).balance) {\\n            revert notEnoughTokens(); // IN CASE THERE IS A LOT OF PEOPLE GETTING YIELD AT ONCE AND RATIOS GET CHANGED TOO MUCH\\n        }\\n        yieldTaken[user] += availableYield;\\n        (bool sent, ) = payable(user).call{value: availableYield}(\\\"\\\");\\n        require(sent, \\\"Failed to send Ether\\\");\\n        // EMIT EVENT\\n        emit yieldFarmed(msg.sender, availableYield);\\n    }\\n\\n    /**\\n     * @dev Function to check if enough time has passed for the user to claim yield.\\n     * @return Whether enough time has passed or not.\\n     */\\n    function isTime() public view returns (bool) {\\n        lastYieldFarmedTime[msg.sender];\\n        uint256 currentStamp = block.timestamp;\\n        if ((lastYieldFarmedTime[msg.sender] + 1 days) < currentStamp) {\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @dev Function to check if enough time has passed since the initial liquidity was provided.\\n     * @return Whether enough time has passed or not.\\n     */\\n    function isTimeInitialLiquidity() public view returns (bool) {\\n        if (\\n            block.timestamp >\\n            (initialLiquidityProvidedTime[msg.sender] + 365 days)\\n        ) {\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @dev Fallback function if address calls unexisting function, but contains msg.data\\n     * @notice The transaction gets reverted since the contract doesn't have the infrastructure to process it\\n     */\\n    fallback() external payable {\\n        revert needToCallExistingFunction();\\n    }\\n\\n    /**\\n     * @dev Receive function if address calls unexisting function, without msg.data\\n     * @notice The transaction gets reverted since the contract doesn't have the infrastructure to process it\\n     */\\n    receive() external payable {\\n        revert needToCallExistingFunction();\\n    }\\n}\\n\",\"keccak256\":\"0x43885f9fe91645ea9f0c6d31af2c401168931156fd4d52c9757d6fb78fec9315\",\"license\":\"MIT\"},\"contracts/Dex/PoolTracker.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\n// Importing necessary contracts and interfaces\\nimport \\\"./LiquidityPool.sol\\\";\\nimport \\\"@openzeppelin/contracts/interfaces/IERC20.sol\\\";\\nimport \\\"@chainlink/contracts/src/v0.8/interfaces/AggregatorV3Interface.sol\\\";\\nimport \\\"../Bridge/InterfaceBridge.sol\\\";\\n\\n// Custom error definitions for specific failure conditions\\nerror PoolTracker_pairAlreadyExists();\\nerror PoolTracker_cantSwapSameToken();\\n\\n/**\\n * @title PoolTracker\\n * @dev Manages the creation and tracking of liquidity pools within a decentralized finance ecosystem.\\n * Utilizes Chainlink for accurate price feeds and OpenZeppelin's ERC20 for token interactions.\\n * Implements reentrancy guards to mitigate potential security vulnerabilities in contract interactions.\\n */\\ncontract PoolTracker {\\n    // Tracker for created pools, will add to database\\n    event poolCreated(LiquidityPool pool, address assetOne, address assetTwo);\\n\\n    // The owner of the PoolTracker contract, set to the deployer.\\n    address private owner;\\n\\n    // Reentrancy Guard\\n    bool internal locked;\\n\\n    // Hardcoded destination chain identifier and ZK Bridge address\\n    uint16 public destinationChain = 23;\\n    IZKBridge public zkBridge =\\n        IZKBridge(0xb20F0105f3598652a3bE569132F7b3F341106dDC);\\n\\n    // Address of the yield calculator contract, for bridging computational parts.\\n    address public yieldCalculator;\\n\\n    // Constructor: Sets the contract deployer as the owner.\\n    constructor(address _yieldCalculator) {\\n        owner = msg.sender;\\n        yieldCalculator = _yieldCalculator;\\n    }\\n\\n    /**\\n     * @dev Modifier to prevent reentrancy attacks.\\n     */\\n    modifier noReentrancy() {\\n        require(!locked, \\\"No re-entrancy\\\");\\n        locked = true;\\n        _;\\n        locked = false;\\n    }\\n\\n    modifier onlyOwner() {\\n        if (msg.sender != owner) {\\n            revert();\\n        }\\n        _;\\n    }\\n\\n    // Mapping of pool Pairs, to store existing ones\\n    mapping(address => address[]) public poolPairs;\\n\\n    // Mapping a pool to the contracts, in case we wont store it in the database\\n    mapping(address => mapping(address => LiquidityPool)) public pairToPool;\\n\\n    // All the available tokens\\n    address[] public tokens;\\n\\n    // All pools\\n    address[] public pools;\\n\\n    /**\\n     * @dev Creates a liquidity pool for a given pair of ERC20 tokens. This function handles the initial\\n     * transfer of token amounts from the caller, sets up the liquidity pool, and updates internal mappings.\\n     * Emits a PoolCreated event upon successful creation.\\n     *\\n     * Requirements:\\n     * - The token pair must not already have an existing pool.\\n     * - The caller must have approved the contract to spend the necessary token amounts.\\n     *\\n     * @param _assetOneAddress The address of the first token in the pair.\\n     * @param _assetTwoAddress The address of the second token in the pair.\\n     * @param amountOne The amount of the first token to add to the pool.\\n     * @param amountTwo The amount of the second token to add to the pool.\\n     */\\n    function createPool(\\n        address _assetOneAddress,\\n        address _assetTwoAddress,\\n        uint256 amountOne,\\n        uint256 amountTwo\\n    ) external noReentrancy {\\n        if (\\n            exists(_assetOneAddress, _assetTwoAddress)\\n        ) // To prevent duplicate pools\\n        {\\n            revert PoolTracker_pairAlreadyExists();\\n        }\\n        // Transfer of tokens\\n        IERC20(_assetOneAddress).transferFrom(\\n            msg.sender,\\n            address(this),\\n            amountOne\\n        );\\n        IERC20(_assetTwoAddress).transferFrom(\\n            msg.sender,\\n            address(this),\\n            amountTwo\\n        );\\n        // Creation of pool\\n        LiquidityPool poolAddress = new LiquidityPool(\\n            _assetOneAddress,\\n            _assetTwoAddress\\n        );\\n        pools.push(address(poolAddress));\\n        // Approve\\n        IERC20(_assetOneAddress).approve(address(poolAddress), amountOne);\\n        IERC20(_assetTwoAddress).approve(address(poolAddress), amountTwo);\\n        // Add initial liquidity\\n        poolAddress.addInitialLiquidity(amountOne, amountTwo);\\n        // Update mappings\\n        poolPairs[_assetOneAddress].push(_assetTwoAddress);\\n        poolPairs[_assetTwoAddress].push(_assetOneAddress);\\n        pairToPool[_assetOneAddress][_assetTwoAddress] = poolAddress;\\n        pairToPool[_assetTwoAddress][_assetOneAddress] = poolAddress;\\n\\n        if (tokenExists(_assetOneAddress) == false) {\\n            tokens.push(_assetOneAddress);\\n        }\\n        if (tokenExists(_assetTwoAddress) == false) {\\n            tokens.push(_assetTwoAddress);\\n        }\\n        // Emit the event\\n        emit poolCreated(poolAddress, _assetOneAddress, _assetTwoAddress);\\n    }\\n\\n    /**\\n     * @dev Checks if a liquidity pool exists for a given pair of tokens.\\n     *\\n     * @param token1 The address of the first token.\\n     * @param token2 The address of the second token.\\n     * @return bool Returns true if the pool exists, false otherwise.\\n     */\\n    function exists(address token1, address token2) public view returns (bool) {\\n        bool exist;\\n        for (uint256 i; i < poolPairs[token1].length; i++) {\\n            if (poolPairs[token1][i] == token2) {\\n                exist = true;\\n            }\\n        }\\n        return exist;\\n    }\\n\\n    /**\\n     * @dev Checks if a token is already tracked by the contract.\\n     *\\n     * @param tokenAddress The address of the token to check.\\n     * @return bool Returns true if the token is tracked, false otherwise.\\n     */\\n    function tokenExists(address tokenAddress) internal view returns (bool) {\\n        bool exist;\\n        for (uint256 i; i < tokens.length; i++) {\\n            if (tokenAddress == tokens[i]) {\\n                exist = true;\\n                break;\\n            }\\n        }\\n        return exist;\\n    }\\n\\n    // Routing token\\n    struct routingAddress {\\n        address tokenAddress;\\n        address priceFeed;\\n    }\\n\\n    // Array of routing Tokens\\n    routingAddress[] public routingAddresses;\\n\\n    /**\\n     * @dev Allows the contract owner to add or update the routing address for a token.\\n     * This is used for token swaps and price feed lookups.\\n     *\\n     * @param tokenAddress The token for which to set the routing.\\n     * @param priceFeed The Chainlink price feed address for the token.\\n     */\\n    function addRoutingAddress(\\n        address tokenAddress,\\n        address priceFeed\\n    ) external onlyOwner {\\n        if (routingAddresses.length == 0) {\\n            routingAddresses.push(routingAddress(tokenAddress, priceFeed));\\n        } else {\\n            for (uint256 i = 0; i < routingAddresses.length; i++) {\\n                if (routingAddresses[i].tokenAddress == tokenAddress) {\\n                    routingAddresses[i] = routingAddress(\\n                        tokenAddress,\\n                        priceFeed\\n                    );\\n                    break;\\n                } else if (i == routingAddresses.length - 1) {\\n                    routingAddresses.push(\\n                        routingAddress(tokenAddress, priceFeed)\\n                    );\\n                }\\n            }\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns all array of all tradable tokens on the platform\\n     *\\n     * @return array Returns tokens array.\\n     */\\n    function tokenList() external view returns (address[] memory) {\\n        return tokens;\\n    }\\n\\n    /**\\n     * @dev Returns length or routingAddresses array\\n     *\\n     * @return uint256 Returns length.\\n     */\\n    function getRoutingAddressesLength() external view returns (uint256) {\\n        return routingAddresses.length;\\n    }\\n\\n    /**\\n     * @dev Returns length or poolPairs array\\n     *\\n     * @return uint256 Returns length.\\n     */\\n    function getPoolPairsLength(\\n        address tokenAddress\\n    ) external view returns (uint256) {\\n        return poolPairs[tokenAddress].length;\\n    }\\n\\n    function getPoolPairs(\\n        address tokenAddress\\n    ) public view returns (address[] memory) {\\n        return poolPairs[tokenAddress];\\n    }\\n\\n    /**\\n     * @dev Retrieve pool addresses\\n     *\\n     * @return array Returns pools array\\n     */\\n    function getPools() public view returns (address[] memory) {\\n        return pools;\\n    }\\n\\n    /**\\n     * @dev owner can withdraw the fees to deposit to yield Calculator\\n     */\\n    function withdrawEther() external onlyOwner {\\n        (bool sent, ) = payable(msg.sender).call{value: address(this).balance}(\\n            \\\"\\\"\\n        );\\n        require(sent, \\\"Failed to send Ether\\\");\\n    }\\n}\\n\",\"keccak256\":\"0x81d8feb54ae79b742aa0df6c0a8a06fe0c61c06b1a62bc7c264a8fcd77e4d987\",\"license\":\"MIT\"},\"contracts/Dex/WeaveSwap.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.9;\\n\\n// Importing required contracts and interfaces\\nimport \\\"./PoolTracker.sol\\\";\\nimport \\\"./LiquidityPool.sol\\\";\\nimport \\\"@openzeppelin/contracts/interfaces/IERC20.sol\\\";\\n\\n// Custom errors for specific failure modes, enhancing gas efficiency and error clarity.\\nerror SwapRouter_tokensCantBeSwapped();\\nerror SwapRouter_needToCallExistingFunction();\\n\\n/**\\n * @title SwapRouter\\n * @dev This contract facilitates token swaps by interacting with liquidity pools.\\n * It supports direct swaps between two tokens in a single pool, or routed swaps through an intermediary token.\\n * Utilizes the PoolTracker contract to find liquidity pools and perform the necessary asset exchanges.\\n */\\ncontract SwapRouter {\\n    // Event emitted after successful token swaps, providing auditability and transparency of operations.\\n    event swap(\\n        address userAddress,\\n        address address1,\\n        address address2,\\n        uint256 address1Amount,\\n        uint256 address2Amount\\n    );\\n\\n    // Reference to the PoolTracker contract for pool operations\\n    PoolTracker poolTracker;\\n\\n    // Reentrancy Guard\\n    bool internal locked;\\n\\n    /**\\n     * @dev Modifier to prevent reentrancy attacks.\\n     */\\n    modifier noReentrancy() {\\n        require(!locked, \\\"No re-entrancy\\\");\\n        locked = true;\\n        _;\\n        locked = false;\\n    }\\n\\n    /**\\n     * @notice Constructs the SwapRouter and initializes the PoolTracker reference.\\n     * @param tracker The PoolTracker contract address.\\n     */\\n    constructor(address tracker) {\\n        poolTracker = PoolTracker(tracker);\\n    }\\n\\n    /**\\n     * @notice Swaps `inputAmount` of `address1` tokens for `address2` tokens.\\n     * @dev This function supports direct swaps between tokens in a single pool or routed swaps through an intermediary token.\\n     * Uses PoolTracker to determine the best swap path and perform the exchange.\\n     * @param address1 The token being sold by the user.\\n     * @param address2 The token being purchased by the user.\\n     * @param inputAmount The amount of `address1` tokens to swap.\\n     */\\n    function swapAsset(\\n        address address1,\\n        address address2,\\n        uint256 inputAmount\\n    ) public payable noReentrancy {\\n        if (poolTracker.exists(address1, address2)) {\\n            // Direct swap scenario\\n            LiquidityPool pool = poolTracker.pairToPool(address1, address2);\\n            uint256 startingBalanceAddress2 = IERC20(address2).balanceOf(\\n                address(this)\\n            );\\n            if (pool.assetOneAddress() == address1) {\\n                IERC20(address1).transferFrom(\\n                    msg.sender,\\n                    address(this),\\n                    inputAmount\\n                );\\n                IERC20(address1).approve(address(pool), inputAmount);\\n                pool.sellAssetOne{value: pool.swapFee()}(inputAmount);\\n            } else {\\n                IERC20(address1).transferFrom(\\n                    msg.sender,\\n                    address(this),\\n                    inputAmount\\n                );\\n                IERC20(address1).approve(address(pool), inputAmount);\\n                pool.sellAssetTwo{value: pool.swapFee()}(inputAmount);\\n            }\\n            uint256 amountOutput = IERC20(address2).balanceOf(address(this)) -\\n                startingBalanceAddress2;\\n            IERC20(address2).transfer(msg.sender, amountOutput);\\n            // Unrequired fee\\n            uint256 unrequiredFee = msg.value - pool.swapFee(); // In case the msg.sender sent more value than it is required\\n            (bool sent, ) = payable(msg.sender).call{value: unrequiredFee}(\\\"\\\");\\n            require(sent, \\\"Failed to send Ether\\\");\\n        } else if (tokenToRoute(address1, address2) != address(0)) {\\n            // Routed swap scenario\\n            address routingToken = tokenToRoute(address1, address2);\\n            LiquidityPool pool1 = poolTracker.pairToPool(\\n                address1,\\n                routingToken\\n            );\\n            LiquidityPool pool2 = poolTracker.pairToPool(\\n                address2,\\n                routingToken\\n            );\\n            uint256 routingTokenAmount;\\n            //SWAP 1, input token into routing  token\\n            IERC20(address1).transferFrom(\\n                msg.sender,\\n                address(this),\\n                inputAmount\\n            );\\n            IERC20(address1).approve(address(pool1), inputAmount);\\n            if (pool1.assetOneAddress() == address1) {\\n                routingTokenAmount = pool1.sellAssetOne{value: pool1.swapFee()}(\\n                    inputAmount\\n                );\\n            } else {\\n                routingTokenAmount = pool1.sellAssetTwo{value: pool1.swapFee()}(\\n                    inputAmount\\n                );\\n            }\\n            //SWAP 2, routing token into output token\\n            uint256 amountOutput;\\n            IERC20(routingToken).approve(address(pool2), routingTokenAmount);\\n            if (pool2.assetOneAddress() == routingToken) {\\n                amountOutput = pool2.sellAssetOne{value: pool2.swapFee()}(\\n                    routingTokenAmount\\n                );\\n            } else {\\n                amountOutput = pool2.sellAssetTwo{value: pool2.swapFee()}(\\n                    routingTokenAmount\\n                );\\n            }\\n            IERC20(address2).transfer(msg.sender, amountOutput);\\n            // Unrequired fee\\n            uint256 unrequiredFee = msg.value -\\n                pool1.swapFee() -\\n                pool2.swapFee(); // In case the msg.sender sent more value than it is required\\n            (bool sent, ) = payable(msg.sender).call{value: unrequiredFee}(\\\"\\\");\\n            require(sent, \\\"Failed to send Ether\\\");\\n        } else {\\n            // Assets cant be swapped directly nor routed\\n            revert SwapRouter_tokensCantBeSwapped();\\n        }\\n    }\\n\\n    /**\\n     * @notice Estimates the output amount for a swap from `address1` to `address2` given an `inputAmount` of `address1`.\\n     * @dev Considers direct swaps and routed swaps through an intermediary token, utilizing PoolTracker for calculations.\\n     * @param address1 The token being sold.\\n     * @param address2 The token being bought.\\n     * @param inputAmount The amount of `address1` tokens to swap.\\n     * @return output The estimated amount of `address2` tokens to be received.\\n     */\\n    function getSwapAmount(\\n        address address1,\\n        address address2,\\n        uint256 inputAmount\\n    ) public view returns (uint256) {\\n        uint256 output;\\n        if (poolTracker.exists(address1, address2)) {\\n            LiquidityPool pool = poolTracker.pairToPool(address1, address2);\\n            output = pool.getSwapQuantity(address1, inputAmount);\\n        } else if (tokenToRoute(address1, address2) != address(0)) {\\n            address routingToken = tokenToRoute(address1, address2);\\n            LiquidityPool pool1 = poolTracker.pairToPool(\\n                address1,\\n                routingToken\\n            );\\n            LiquidityPool pool2 = poolTracker.pairToPool(\\n                address2,\\n                routingToken\\n            );\\n            uint256 routingOutput = pool1.getSwapQuantity(\\n                address1,\\n                inputAmount\\n            );\\n            output = pool2.getSwapQuantity(routingToken, routingOutput);\\n        } else {\\n            // Assets cant be swapped directly nor routed\\n            revert SwapRouter_tokensCantBeSwapped();\\n        }\\n        return output;\\n    }\\n\\n    /**\\n     * @notice Retrieves the swap fee required for a swap between `address1` and `address2`.\\n     * @dev Calculates the total swap fee, accounting for both direct and routed swaps, by querying the associated pools.\\n     * @param address1 The source token address.\\n     * @param address2 The destination token address.\\n     * @return fee The total swap fee for the transaction.\\n     */\\n    function getSwapFee(\\n        address address1,\\n        address address2\\n    ) public view returns (uint256) {\\n        uint256 fee;\\n        if (poolTracker.exists(address1, address2)) {\\n            LiquidityPool pool = poolTracker.pairToPool(address1, address2);\\n            fee += pool.swapFee();\\n        } else if (tokenToRoute(address1, address2) != address(0)) {\\n            address routingToken = tokenToRoute(address1, address2);\\n            LiquidityPool pool1 = poolTracker.pairToPool(\\n                address1,\\n                routingToken\\n            );\\n            LiquidityPool pool2 = poolTracker.pairToPool(\\n                address2,\\n                routingToken\\n            );\\n            fee += pool1.swapFee();\\n            fee += pool2.swapFee();\\n        } else {\\n            // Assets cant be swapped directly nor routed\\n            revert SwapRouter_tokensCantBeSwapped();\\n        }\\n        return fee;\\n    }\\n\\n    /**\\n     * @dev Determines the optimal routing token for a swap between two tokens,\\n     * based on available liquidity and price feeds.\\n     *\\n     * @param address1 The address of the first token.\\n     * @param address2 The address of the second token.\\n     * @return address The address of the optimal routing token.\\n     */\\n    function tokenToRoute(\\n        address address1,\\n        address address2\\n    ) public view returns (address) {\\n        if (address1 == address2) {\\n            revert PoolTracker_cantSwapSameToken();\\n        }\\n        address[] memory token1pairs = poolTracker.getPoolPairs(address1);\\n        address[] memory token2pairs = poolTracker.getPoolPairs(address2);\\n\\n        address routingToken;\\n        int routingTokenLiquidity;\\n\\n        for (uint256 i; i < token1pairs.length; i++) {\\n            for (uint256 a; a < token2pairs.length; a++) {\\n                if (token1pairs[i] == token2pairs[a]) {\\n                    for (\\n                        uint256 b;\\n                        b < poolTracker.getRoutingAddressesLength();\\n                        b++\\n                    ) {\\n                        (address tokenAddress, address priceFeed) = poolTracker\\n                            .routingAddresses(b);\\n                        if (tokenAddress == token1pairs[i]) {\\n                            int liquidity;\\n                            LiquidityPool pool1 = poolTracker.pairToPool(\\n                                address1,\\n                                tokenAddress\\n                            );\\n                            LiquidityPool pool2 = poolTracker.pairToPool(\\n                                address2,\\n                                tokenAddress\\n                            );\\n                            uint256 balance1 = IERC20(tokenAddress).balanceOf(\\n                                address(pool1)\\n                            );\\n                            uint256 balance2 = IERC20(tokenAddress).balanceOf(\\n                                address(pool2)\\n                            );\\n                            liquidity =\\n                                (int(balance1) + int(balance2)) *\\n                                usdConverter(priceFeed);\\n                            if (liquidity > routingTokenLiquidity) {\\n                                // Best choice so far if the liquidity is bigger than previous best token\\n                                routingToken = tokenAddress;\\n                                routingTokenLiquidity = liquidity;\\n                            }\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n        return routingToken;\\n    }\\n\\n    function usdConverter(address priceFeed) internal view returns (int) {\\n        (, int answer, , , ) = AggregatorV3Interface(priceFeed)\\n            .latestRoundData();\\n        return answer;\\n    }\\n\\n    /**\\n     * @dev Fallback function if address calls unexisting function, but contains msg.data\\n     */\\n    fallback() external payable {}\\n\\n    /**\\n     * @dev Receive function if address calls unexisting function, without msg.data\\n     */\\n    receive() external payable {}\\n}\\n\",\"keccak256\":\"0x48cc717802554e173cab508bc5b421db3a045b5b5317d0b64220984cbfb6d796\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60806040523480156200001157600080fd5b50604051620033c7380380620033c78339818101604052810190620000379190620000e8565b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550506200011a565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000620000b08262000083565b9050919050565b620000c281620000a3565b8114620000ce57600080fd5b50565b600081519050620000e281620000b7565b92915050565b6000602082840312156200010157620001006200007e565b5b60006200011184828501620000d1565b91505092915050565b61329d806200012a6000396000f3fe6080604052600436106100435760003560e01c80632de192dc1461004c5780635553246014610089578063635bc0c2146100c6578063fe9f5c05146101035761004a565b3661004a57005b005b34801561005857600080fd5b50610073600480360381019061006e919061287b565b61011f565b60405161008091906128d4565b60405180910390f35b34801561009557600080fd5b506100b060048036038101906100ab919061287b565b610619565b6040516100bd91906128fe565b60405180910390f35b3480156100d257600080fd5b506100ed60048036038101906100e89190612945565b610d0b565b6040516100fa91906128d4565b60405180910390f35b61011d60048036038101906101189190612945565b61120f565b005b60008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637663f82285856040518363ffffffff1660e01b815260040161017d929190612998565b60206040518083038186803b15801561019557600080fd5b505afa1580156101a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101cd91906129f9565b156103135760008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6886866040518363ffffffff1660e01b8152600401610230929190612998565b60206040518083038186803b15801561024857600080fd5b505afa15801561025c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102809190612a76565b90508073ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156102c857600080fd5b505afa1580156102dc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103009190612ab8565b8261030b9190612b14565b91505061060f565b600073ffffffffffffffffffffffffffffffffffffffff166103358585610619565b73ffffffffffffffffffffffffffffffffffffffff16146105dc57600061035c8585610619565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6887846040518363ffffffff1660e01b81526004016103bc929190612998565b60206040518083038186803b1580156103d457600080fd5b505afa1580156103e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061040c9190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6887856040518363ffffffff1660e01b815260040161046c929190612998565b60206040518083038186803b15801561048457600080fd5b505afa158015610498573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104bc9190612a76565b90508173ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561050457600080fd5b505afa158015610518573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061053c9190612ab8565b846105479190612b14565b93508073ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561058f57600080fd5b505afa1580156105a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105c79190612ab8565b846105d29190612b14565b935050505061060e565b6040517f8bb120b500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b8091505092915050565b60008173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610681576040517fef107d8100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631b9db73f856040518263ffffffff1660e01b81526004016106dd91906128fe565b60006040518083038186803b1580156106f557600080fd5b505afa158015610709573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906107329190612cd8565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631b9db73f856040518263ffffffff1660e01b815260040161079091906128fe565b60006040518083038186803b1580156107a857600080fd5b505afa1580156107bc573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906107e59190612cd8565b905060008060005b8451811015610cfd5760005b8451811015610ce95784818151811061081557610814612d21565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1686838151811061084657610845612d21565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff161415610cd65760005b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663941230606040518163ffffffff1660e01b815260040160206040518083038186803b1580156108d357600080fd5b505afa1580156108e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090b9190612ab8565b811015610cd45760008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663930186f2846040518263ffffffff1660e01b815260040161096e91906128d4565b604080518083038186803b15801561098557600080fd5b505afa158015610999573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109bd9190612d50565b915091508885815181106109d4576109d3612d21565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610cbf5760008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a688f866040518363ffffffff1660e01b8152600401610a6d929190612998565b60206040518083038186803b158015610a8557600080fd5b505afa158015610a99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610abd9190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a688f876040518363ffffffff1660e01b8152600401610b1d929190612998565b60206040518083038186803b158015610b3557600080fd5b505afa158015610b49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b6d9190612a76565b905060008573ffffffffffffffffffffffffffffffffffffffff166370a08231846040518263ffffffff1660e01b8152600401610baa91906128fe565b60206040518083038186803b158015610bc257600080fd5b505afa158015610bd6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bfa9190612ab8565b905060008673ffffffffffffffffffffffffffffffffffffffff166370a08231846040518263ffffffff1660e01b8152600401610c3791906128fe565b60206040518083038186803b158015610c4f57600080fd5b505afa158015610c63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c879190612ab8565b9050610c9286612779565b8183610c9e9190612d9a565b610ca89190612e2e565b94508a851315610cb957869b50849a505b50505050505b50508080610ccc90612f45565b91505061086d565b505b8080610ce190612f45565b9150506107f9565b508080610cf590612f45565b9150506107ed565b508194505050505092915050565b60008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637663f82286866040518363ffffffff1660e01b8152600401610d69929190612998565b60206040518083038186803b158015610d8157600080fd5b505afa158015610d95573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610db991906129f9565b15610f015760008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6887876040518363ffffffff1660e01b8152600401610e1c929190612998565b60206040518083038186803b158015610e3457600080fd5b505afa158015610e48573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e6c9190612a76565b90508073ffffffffffffffffffffffffffffffffffffffff166328da1aef87866040518363ffffffff1660e01b8152600401610ea9929190612f8e565b60206040518083038186803b158015610ec157600080fd5b505afa158015610ed5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ef99190612ab8565b915050611204565b600073ffffffffffffffffffffffffffffffffffffffff16610f238686610619565b73ffffffffffffffffffffffffffffffffffffffff16146111d1576000610f4a8686610619565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6888846040518363ffffffff1660e01b8152600401610faa929190612998565b60206040518083038186803b158015610fc257600080fd5b505afa158015610fd6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ffa9190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6888856040518363ffffffff1660e01b815260040161105a929190612998565b60206040518083038186803b15801561107257600080fd5b505afa158015611086573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110aa9190612a76565b905060008273ffffffffffffffffffffffffffffffffffffffff166328da1aef8a896040518363ffffffff1660e01b81526004016110e9929190612f8e565b60206040518083038186803b15801561110157600080fd5b505afa158015611115573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111399190612ab8565b90508173ffffffffffffffffffffffffffffffffffffffff166328da1aef85836040518363ffffffff1660e01b8152600401611176929190612f8e565b60206040518083038186803b15801561118e57600080fd5b505afa1580156111a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c69190612ab8565b945050505050611203565b6040517f8bb120b500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b809150509392505050565b600060149054906101000a900460ff161561125f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161125690613014565b60405180910390fd5b6001600060146101000a81548160ff02191690831515021790555060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637663f82284846040518363ffffffff1660e01b81526004016112d5929190612998565b60206040518083038186803b1580156112ed57600080fd5b505afa158015611301573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061132591906129f9565b15611bd75760008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6885856040518363ffffffff1660e01b8152600401611388929190612998565b60206040518083038186803b1580156113a057600080fd5b505afa1580156113b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113d89190612a76565b905060008373ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b815260040161141591906128fe565b60206040518083038186803b15801561142d57600080fd5b505afa158015611441573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114659190612ab8565b90508473ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1663ce5efee36040518163ffffffff1660e01b815260040160206040518083038186803b1580156114c457600080fd5b505afa1580156114d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114fc9190613034565b73ffffffffffffffffffffffffffffffffffffffff161415611745578473ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866040518463ffffffff1660e01b815260040161155593929190613061565b602060405180830381600087803b15801561156f57600080fd5b505af1158015611583573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115a791906129f9565b508473ffffffffffffffffffffffffffffffffffffffff1663095ea7b383856040518363ffffffff1660e01b81526004016115e3929190612f8e565b602060405180830381600087803b1580156115fd57600080fd5b505af1158015611611573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061163591906129f9565b508173ffffffffffffffffffffffffffffffffffffffff16634257dc4c8373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561169857600080fd5b505afa1580156116ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116d09190612ab8565b856040518363ffffffff1660e01b81526004016116ed91906128d4565b6020604051808303818588803b15801561170657600080fd5b505af115801561171a573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061173f9190612ab8565b5061196e565b8473ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866040518463ffffffff1660e01b815260040161178293929190613061565b602060405180830381600087803b15801561179c57600080fd5b505af11580156117b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117d491906129f9565b508473ffffffffffffffffffffffffffffffffffffffff1663095ea7b383856040518363ffffffff1660e01b8152600401611810929190612f8e565b602060405180830381600087803b15801561182a57600080fd5b505af115801561183e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061186291906129f9565b508173ffffffffffffffffffffffffffffffffffffffff1663dc1716248373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156118c557600080fd5b505afa1580156118d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118fd9190612ab8565b856040518363ffffffff1660e01b815260040161191a91906128d4565b6020604051808303818588803b15801561193357600080fd5b505af1158015611947573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061196c9190612ab8565b505b6000818573ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016119aa91906128fe565b60206040518083038186803b1580156119c257600080fd5b505afa1580156119d6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119fa9190612ab8565b611a049190613098565b90508473ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33836040518363ffffffff1660e01b8152600401611a41929190612f8e565b602060405180830381600087803b158015611a5b57600080fd5b505af1158015611a6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a9391906129f9565b5060008373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b158015611adc57600080fd5b505afa158015611af0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b149190612ab8565b34611b1f9190613098565b905060003373ffffffffffffffffffffffffffffffffffffffff1682604051611b47906130fd565b60006040518083038185875af1925050503d8060008114611b84576040519150601f19603f3d011682016040523d82523d6000602084013e611b89565b606091505b5050905080611bcd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bc49061315e565b60405180910390fd5b505050505061275a565b600073ffffffffffffffffffffffffffffffffffffffff16611bf98484610619565b73ffffffffffffffffffffffffffffffffffffffff1614612727576000611c208484610619565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6886846040518363ffffffff1660e01b8152600401611c80929190612998565b60206040518083038186803b158015611c9857600080fd5b505afa158015611cac573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611cd09190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6886856040518363ffffffff1660e01b8152600401611d30929190612998565b60206040518083038186803b158015611d4857600080fd5b505afa158015611d5c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d809190612a76565b905060008673ffffffffffffffffffffffffffffffffffffffff166323b872dd3330886040518463ffffffff1660e01b8152600401611dc193929190613061565b602060405180830381600087803b158015611ddb57600080fd5b505af1158015611def573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e1391906129f9565b508673ffffffffffffffffffffffffffffffffffffffff1663095ea7b384876040518363ffffffff1660e01b8152600401611e4f929190612f8e565b602060405180830381600087803b158015611e6957600080fd5b505af1158015611e7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ea191906129f9565b508673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1663ce5efee36040518163ffffffff1660e01b815260040160206040518083038186803b158015611eff57600080fd5b505afa158015611f13573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f379190613034565b73ffffffffffffffffffffffffffffffffffffffff161415612063578273ffffffffffffffffffffffffffffffffffffffff16634257dc4c8473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b158015611fb557600080fd5b505afa158015611fc9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611fed9190612ab8565b876040518363ffffffff1660e01b815260040161200a91906128d4565b6020604051808303818588803b15801561202357600080fd5b505af1158015612037573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061205c9190612ab8565b905061216f565b8273ffffffffffffffffffffffffffffffffffffffff1663dc1716248473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156120c557600080fd5b505afa1580156120d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120fd9190612ab8565b876040518363ffffffff1660e01b815260040161211a91906128d4565b6020604051808303818588803b15801561213357600080fd5b505af1158015612147573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061216c9190612ab8565b90505b60008473ffffffffffffffffffffffffffffffffffffffff1663095ea7b384846040518363ffffffff1660e01b81526004016121ac929190612f8e565b602060405180830381600087803b1580156121c657600080fd5b505af11580156121da573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121fe91906129f9565b508473ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1663ce5efee36040518163ffffffff1660e01b815260040160206040518083038186803b15801561225c57600080fd5b505afa158015612270573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122949190613034565b73ffffffffffffffffffffffffffffffffffffffff1614156123c0578273ffffffffffffffffffffffffffffffffffffffff16634257dc4c8473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561231257600080fd5b505afa158015612326573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061234a9190612ab8565b846040518363ffffffff1660e01b815260040161236791906128d4565b6020604051808303818588803b15801561238057600080fd5b505af1158015612394573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906123b99190612ab8565b90506124cc565b8273ffffffffffffffffffffffffffffffffffffffff1663dc1716248473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561242257600080fd5b505afa158015612436573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061245a9190612ab8565b846040518363ffffffff1660e01b815260040161247791906128d4565b6020604051808303818588803b15801561249057600080fd5b505af11580156124a4573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906124c99190612ab8565b90505b8673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33836040518363ffffffff1660e01b8152600401612507929190612f8e565b602060405180830381600087803b15801561252157600080fd5b505af1158015612535573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061255991906129f9565b5060008373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156125a257600080fd5b505afa1580156125b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125da9190612ab8565b8573ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561262057600080fd5b505afa158015612634573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126589190612ab8565b346126639190613098565b61266d9190613098565b905060003373ffffffffffffffffffffffffffffffffffffffff1682604051612695906130fd565b60006040518083038185875af1925050503d80600081146126d2576040519150601f19603f3d011682016040523d82523d6000602084013e6126d7565b606091505b505090508061271b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127129061315e565b60405180910390fd5b50505050505050612759565b6040517f8bb120b500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b60008060146101000a81548160ff021916908315150217905550505050565b6000808273ffffffffffffffffffffffffffffffffffffffff1663feaf968c6040518163ffffffff1660e01b815260040160a06040518083038186803b1580156127c257600080fd5b505afa1580156127d6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127fa91906131ec565b50505091505080915050919050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006128488261281d565b9050919050565b6128588161283d565b811461286357600080fd5b50565b6000813590506128758161284f565b92915050565b6000806040838503121561289257612891612813565b5b60006128a085828601612866565b92505060206128b185828601612866565b9150509250929050565b6000819050919050565b6128ce816128bb565b82525050565b60006020820190506128e960008301846128c5565b92915050565b6128f88161283d565b82525050565b600060208201905061291360008301846128ef565b92915050565b612922816128bb565b811461292d57600080fd5b50565b60008135905061293f81612919565b92915050565b60008060006060848603121561295e5761295d612813565b5b600061296c86828701612866565b935050602061297d86828701612866565b925050604061298e86828701612930565b9150509250925092565b60006040820190506129ad60008301856128ef565b6129ba60208301846128ef565b9392505050565b60008115159050919050565b6129d6816129c1565b81146129e157600080fd5b50565b6000815190506129f3816129cd565b92915050565b600060208284031215612a0f57612a0e612813565b5b6000612a1d848285016129e4565b91505092915050565b6000612a318261281d565b9050919050565b6000612a4382612a26565b9050919050565b612a5381612a38565b8114612a5e57600080fd5b50565b600081519050612a7081612a4a565b92915050565b600060208284031215612a8c57612a8b612813565b5b6000612a9a84828501612a61565b91505092915050565b600081519050612ab281612919565b92915050565b600060208284031215612ace57612acd612813565b5b6000612adc84828501612aa3565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000612b1f826128bb565b9150612b2a836128bb565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115612b5f57612b5e612ae5565b5b828201905092915050565b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b612bb882612b6f565b810181811067ffffffffffffffff82111715612bd757612bd6612b80565b5b80604052505050565b6000612bea612809565b9050612bf68282612baf565b919050565b600067ffffffffffffffff821115612c1657612c15612b80565b5b602082029050602081019050919050565b600080fd5b600081519050612c3b8161284f565b92915050565b6000612c54612c4f84612bfb565b612be0565b90508083825260208201905060208402830185811115612c7757612c76612c27565b5b835b81811015612ca05780612c8c8882612c2c565b845260208401935050602081019050612c79565b5050509392505050565b600082601f830112612cbf57612cbe612b6a565b5b8151612ccf848260208601612c41565b91505092915050565b600060208284031215612cee57612ced612813565b5b600082015167ffffffffffffffff811115612d0c57612d0b612818565b5b612d1884828501612caa565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60008060408385031215612d6757612d66612813565b5b6000612d7585828601612c2c565b9250506020612d8685828601612c2c565b9150509250929050565b6000819050919050565b6000612da582612d90565b9150612db083612d90565b9250817f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03831360008312151615612deb57612dea612ae5565b5b817f8000000000000000000000000000000000000000000000000000000000000000038312600083121615612e2357612e22612ae5565b5b828201905092915050565b6000612e3982612d90565b9150612e4483612d90565b9250827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0482116000841360008413161615612e8357612e82612ae5565b5b817f80000000000000000000000000000000000000000000000000000000000000000583126000841260008413161615612ec057612ebf612ae5565b5b827f80000000000000000000000000000000000000000000000000000000000000000582126000841360008412161615612efd57612efc612ae5565b5b827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0582126000841260008412161615612f3a57612f39612ae5565b5b828202905092915050565b6000612f50826128bb565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415612f8357612f82612ae5565b5b600182019050919050565b6000604082019050612fa360008301856128ef565b612fb060208301846128c5565b9392505050565b600082825260208201905092915050565b7f4e6f2072652d656e7472616e6379000000000000000000000000000000000000600082015250565b6000612ffe600e83612fb7565b915061300982612fc8565b602082019050919050565b6000602082019050818103600083015261302d81612ff1565b9050919050565b60006020828403121561304a57613049612813565b5b600061305884828501612c2c565b91505092915050565b600060608201905061307660008301866128ef565b61308360208301856128ef565b61309060408301846128c5565b949350505050565b60006130a3826128bb565b91506130ae836128bb565b9250828210156130c1576130c0612ae5565b5b828203905092915050565b600081905092915050565b50565b60006130e76000836130cc565b91506130f2826130d7565b600082019050919050565b6000613108826130da565b9150819050919050565b7f4661696c656420746f2073656e64204574686572000000000000000000000000600082015250565b6000613148601483612fb7565b915061315382613112565b602082019050919050565b600060208201905081810360008301526131778161313b565b9050919050565b600069ffffffffffffffffffff82169050919050565b61319d8161317e565b81146131a857600080fd5b50565b6000815190506131ba81613194565b92915050565b6131c981612d90565b81146131d457600080fd5b50565b6000815190506131e6816131c0565b92915050565b600080600080600060a0868803121561320857613207612813565b5b6000613216888289016131ab565b9550506020613227888289016131d7565b945050604061323888828901612aa3565b935050606061324988828901612aa3565b925050608061325a888289016131ab565b915050929550929590935056fea26469706673582212207dd266db3f0566c7c8e88d0ee7ecf1baccf7973ed69efa2681967fe6ea229b4064736f6c63430008090033",
  "deployedBytecode": "0x6080604052600436106100435760003560e01c80632de192dc1461004c5780635553246014610089578063635bc0c2146100c6578063fe9f5c05146101035761004a565b3661004a57005b005b34801561005857600080fd5b50610073600480360381019061006e919061287b565b61011f565b60405161008091906128d4565b60405180910390f35b34801561009557600080fd5b506100b060048036038101906100ab919061287b565b610619565b6040516100bd91906128fe565b60405180910390f35b3480156100d257600080fd5b506100ed60048036038101906100e89190612945565b610d0b565b6040516100fa91906128d4565b60405180910390f35b61011d60048036038101906101189190612945565b61120f565b005b60008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637663f82285856040518363ffffffff1660e01b815260040161017d929190612998565b60206040518083038186803b15801561019557600080fd5b505afa1580156101a9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101cd91906129f9565b156103135760008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6886866040518363ffffffff1660e01b8152600401610230929190612998565b60206040518083038186803b15801561024857600080fd5b505afa15801561025c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102809190612a76565b90508073ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156102c857600080fd5b505afa1580156102dc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103009190612ab8565b8261030b9190612b14565b91505061060f565b600073ffffffffffffffffffffffffffffffffffffffff166103358585610619565b73ffffffffffffffffffffffffffffffffffffffff16146105dc57600061035c8585610619565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6887846040518363ffffffff1660e01b81526004016103bc929190612998565b60206040518083038186803b1580156103d457600080fd5b505afa1580156103e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061040c9190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6887856040518363ffffffff1660e01b815260040161046c929190612998565b60206040518083038186803b15801561048457600080fd5b505afa158015610498573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104bc9190612a76565b90508173ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561050457600080fd5b505afa158015610518573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061053c9190612ab8565b846105479190612b14565b93508073ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561058f57600080fd5b505afa1580156105a3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105c79190612ab8565b846105d29190612b14565b935050505061060e565b6040517f8bb120b500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b8091505092915050565b60008173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610681576040517fef107d8100000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631b9db73f856040518263ffffffff1660e01b81526004016106dd91906128fe565b60006040518083038186803b1580156106f557600080fd5b505afa158015610709573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906107329190612cd8565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631b9db73f856040518263ffffffff1660e01b815260040161079091906128fe565b60006040518083038186803b1580156107a857600080fd5b505afa1580156107bc573d6000803e3d6000fd5b505050506040513d6000823e3d601f19601f820116820180604052508101906107e59190612cd8565b905060008060005b8451811015610cfd5760005b8451811015610ce95784818151811061081557610814612d21565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff1686838151811061084657610845612d21565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff161415610cd65760005b60008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663941230606040518163ffffffff1660e01b815260040160206040518083038186803b1580156108d357600080fd5b505afa1580156108e7573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061090b9190612ab8565b811015610cd45760008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663930186f2846040518263ffffffff1660e01b815260040161096e91906128d4565b604080518083038186803b15801561098557600080fd5b505afa158015610999573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109bd9190612d50565b915091508885815181106109d4576109d3612d21565b5b602002602001015173ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610cbf5760008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a688f866040518363ffffffff1660e01b8152600401610a6d929190612998565b60206040518083038186803b158015610a8557600080fd5b505afa158015610a99573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610abd9190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a688f876040518363ffffffff1660e01b8152600401610b1d929190612998565b60206040518083038186803b158015610b3557600080fd5b505afa158015610b49573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b6d9190612a76565b905060008573ffffffffffffffffffffffffffffffffffffffff166370a08231846040518263ffffffff1660e01b8152600401610baa91906128fe565b60206040518083038186803b158015610bc257600080fd5b505afa158015610bd6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610bfa9190612ab8565b905060008673ffffffffffffffffffffffffffffffffffffffff166370a08231846040518263ffffffff1660e01b8152600401610c3791906128fe565b60206040518083038186803b158015610c4f57600080fd5b505afa158015610c63573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c879190612ab8565b9050610c9286612779565b8183610c9e9190612d9a565b610ca89190612e2e565b94508a851315610cb957869b50849a505b50505050505b50508080610ccc90612f45565b91505061086d565b505b8080610ce190612f45565b9150506107f9565b508080610cf590612f45565b9150506107ed565b508194505050505092915050565b60008060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637663f82286866040518363ffffffff1660e01b8152600401610d69929190612998565b60206040518083038186803b158015610d8157600080fd5b505afa158015610d95573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610db991906129f9565b15610f015760008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6887876040518363ffffffff1660e01b8152600401610e1c929190612998565b60206040518083038186803b158015610e3457600080fd5b505afa158015610e48573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610e6c9190612a76565b90508073ffffffffffffffffffffffffffffffffffffffff166328da1aef87866040518363ffffffff1660e01b8152600401610ea9929190612f8e565b60206040518083038186803b158015610ec157600080fd5b505afa158015610ed5573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ef99190612ab8565b915050611204565b600073ffffffffffffffffffffffffffffffffffffffff16610f238686610619565b73ffffffffffffffffffffffffffffffffffffffff16146111d1576000610f4a8686610619565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6888846040518363ffffffff1660e01b8152600401610faa929190612998565b60206040518083038186803b158015610fc257600080fd5b505afa158015610fd6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ffa9190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6888856040518363ffffffff1660e01b815260040161105a929190612998565b60206040518083038186803b15801561107257600080fd5b505afa158015611086573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906110aa9190612a76565b905060008273ffffffffffffffffffffffffffffffffffffffff166328da1aef8a896040518363ffffffff1660e01b81526004016110e9929190612f8e565b60206040518083038186803b15801561110157600080fd5b505afa158015611115573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111399190612ab8565b90508173ffffffffffffffffffffffffffffffffffffffff166328da1aef85836040518363ffffffff1660e01b8152600401611176929190612f8e565b60206040518083038186803b15801561118e57600080fd5b505afa1580156111a2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906111c69190612ab8565b945050505050611203565b6040517f8bb120b500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b809150509392505050565b600060149054906101000a900460ff161561125f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161125690613014565b60405180910390fd5b6001600060146101000a81548160ff02191690831515021790555060008054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16637663f82284846040518363ffffffff1660e01b81526004016112d5929190612998565b60206040518083038186803b1580156112ed57600080fd5b505afa158015611301573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061132591906129f9565b15611bd75760008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6885856040518363ffffffff1660e01b8152600401611388929190612998565b60206040518083038186803b1580156113a057600080fd5b505afa1580156113b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113d89190612a76565b905060008373ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b815260040161141591906128fe565b60206040518083038186803b15801561142d57600080fd5b505afa158015611441573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114659190612ab8565b90508473ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1663ce5efee36040518163ffffffff1660e01b815260040160206040518083038186803b1580156114c457600080fd5b505afa1580156114d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906114fc9190613034565b73ffffffffffffffffffffffffffffffffffffffff161415611745578473ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866040518463ffffffff1660e01b815260040161155593929190613061565b602060405180830381600087803b15801561156f57600080fd5b505af1158015611583573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906115a791906129f9565b508473ffffffffffffffffffffffffffffffffffffffff1663095ea7b383856040518363ffffffff1660e01b81526004016115e3929190612f8e565b602060405180830381600087803b1580156115fd57600080fd5b505af1158015611611573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061163591906129f9565b508173ffffffffffffffffffffffffffffffffffffffff16634257dc4c8373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561169857600080fd5b505afa1580156116ac573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906116d09190612ab8565b856040518363ffffffff1660e01b81526004016116ed91906128d4565b6020604051808303818588803b15801561170657600080fd5b505af115801561171a573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061173f9190612ab8565b5061196e565b8473ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866040518463ffffffff1660e01b815260040161178293929190613061565b602060405180830381600087803b15801561179c57600080fd5b505af11580156117b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906117d491906129f9565b508473ffffffffffffffffffffffffffffffffffffffff1663095ea7b383856040518363ffffffff1660e01b8152600401611810929190612f8e565b602060405180830381600087803b15801561182a57600080fd5b505af115801561183e573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061186291906129f9565b508173ffffffffffffffffffffffffffffffffffffffff1663dc1716248373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156118c557600080fd5b505afa1580156118d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906118fd9190612ab8565b856040518363ffffffff1660e01b815260040161191a91906128d4565b6020604051808303818588803b15801561193357600080fd5b505af1158015611947573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061196c9190612ab8565b505b6000818573ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b81526004016119aa91906128fe565b60206040518083038186803b1580156119c257600080fd5b505afa1580156119d6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906119fa9190612ab8565b611a049190613098565b90508473ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33836040518363ffffffff1660e01b8152600401611a41929190612f8e565b602060405180830381600087803b158015611a5b57600080fd5b505af1158015611a6f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611a9391906129f9565b5060008373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b158015611adc57600080fd5b505afa158015611af0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b149190612ab8565b34611b1f9190613098565b905060003373ffffffffffffffffffffffffffffffffffffffff1682604051611b47906130fd565b60006040518083038185875af1925050503d8060008114611b84576040519150601f19603f3d011682016040523d82523d6000602084013e611b89565b606091505b5050905080611bcd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bc49061315e565b60405180910390fd5b505050505061275a565b600073ffffffffffffffffffffffffffffffffffffffff16611bf98484610619565b73ffffffffffffffffffffffffffffffffffffffff1614612727576000611c208484610619565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6886846040518363ffffffff1660e01b8152600401611c80929190612998565b60206040518083038186803b158015611c9857600080fd5b505afa158015611cac573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611cd09190612a76565b905060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638b273a6886856040518363ffffffff1660e01b8152600401611d30929190612998565b60206040518083038186803b158015611d4857600080fd5b505afa158015611d5c573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611d809190612a76565b905060008673ffffffffffffffffffffffffffffffffffffffff166323b872dd3330886040518463ffffffff1660e01b8152600401611dc193929190613061565b602060405180830381600087803b158015611ddb57600080fd5b505af1158015611def573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611e1391906129f9565b508673ffffffffffffffffffffffffffffffffffffffff1663095ea7b384876040518363ffffffff1660e01b8152600401611e4f929190612f8e565b602060405180830381600087803b158015611e6957600080fd5b505af1158015611e7d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611ea191906129f9565b508673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1663ce5efee36040518163ffffffff1660e01b815260040160206040518083038186803b158015611eff57600080fd5b505afa158015611f13573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f379190613034565b73ffffffffffffffffffffffffffffffffffffffff161415612063578273ffffffffffffffffffffffffffffffffffffffff16634257dc4c8473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b158015611fb557600080fd5b505afa158015611fc9573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611fed9190612ab8565b876040518363ffffffff1660e01b815260040161200a91906128d4565b6020604051808303818588803b15801561202357600080fd5b505af1158015612037573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061205c9190612ab8565b905061216f565b8273ffffffffffffffffffffffffffffffffffffffff1663dc1716248473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156120c557600080fd5b505afa1580156120d9573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906120fd9190612ab8565b876040518363ffffffff1660e01b815260040161211a91906128d4565b6020604051808303818588803b15801561213357600080fd5b505af1158015612147573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019061216c9190612ab8565b90505b60008473ffffffffffffffffffffffffffffffffffffffff1663095ea7b384846040518363ffffffff1660e01b81526004016121ac929190612f8e565b602060405180830381600087803b1580156121c657600080fd5b505af11580156121da573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906121fe91906129f9565b508473ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1663ce5efee36040518163ffffffff1660e01b815260040160206040518083038186803b15801561225c57600080fd5b505afa158015612270573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906122949190613034565b73ffffffffffffffffffffffffffffffffffffffff1614156123c0578273ffffffffffffffffffffffffffffffffffffffff16634257dc4c8473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561231257600080fd5b505afa158015612326573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061234a9190612ab8565b846040518363ffffffff1660e01b815260040161236791906128d4565b6020604051808303818588803b15801561238057600080fd5b505af1158015612394573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906123b99190612ab8565b90506124cc565b8273ffffffffffffffffffffffffffffffffffffffff1663dc1716248473ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561242257600080fd5b505afa158015612436573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061245a9190612ab8565b846040518363ffffffff1660e01b815260040161247791906128d4565b6020604051808303818588803b15801561249057600080fd5b505af11580156124a4573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906124c99190612ab8565b90505b8673ffffffffffffffffffffffffffffffffffffffff1663a9059cbb33836040518363ffffffff1660e01b8152600401612507929190612f8e565b602060405180830381600087803b15801561252157600080fd5b505af1158015612535573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061255991906129f9565b5060008373ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b1580156125a257600080fd5b505afa1580156125b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906125da9190612ab8565b8573ffffffffffffffffffffffffffffffffffffffff166354cf2aeb6040518163ffffffff1660e01b815260040160206040518083038186803b15801561262057600080fd5b505afa158015612634573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126589190612ab8565b346126639190613098565b61266d9190613098565b905060003373ffffffffffffffffffffffffffffffffffffffff1682604051612695906130fd565b60006040518083038185875af1925050503d80600081146126d2576040519150601f19603f3d011682016040523d82523d6000602084013e6126d7565b606091505b505090508061271b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127129061315e565b60405180910390fd5b50505050505050612759565b6040517f8bb120b500000000000000000000000000000000000000000000000000000000815260040160405180910390fd5b5b60008060146101000a81548160ff021916908315150217905550505050565b6000808273ffffffffffffffffffffffffffffffffffffffff1663feaf968c6040518163ffffffff1660e01b815260040160a06040518083038186803b1580156127c257600080fd5b505afa1580156127d6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906127fa91906131ec565b50505091505080915050919050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006128488261281d565b9050919050565b6128588161283d565b811461286357600080fd5b50565b6000813590506128758161284f565b92915050565b6000806040838503121561289257612891612813565b5b60006128a085828601612866565b92505060206128b185828601612866565b9150509250929050565b6000819050919050565b6128ce816128bb565b82525050565b60006020820190506128e960008301846128c5565b92915050565b6128f88161283d565b82525050565b600060208201905061291360008301846128ef565b92915050565b612922816128bb565b811461292d57600080fd5b50565b60008135905061293f81612919565b92915050565b60008060006060848603121561295e5761295d612813565b5b600061296c86828701612866565b935050602061297d86828701612866565b925050604061298e86828701612930565b9150509250925092565b60006040820190506129ad60008301856128ef565b6129ba60208301846128ef565b9392505050565b60008115159050919050565b6129d6816129c1565b81146129e157600080fd5b50565b6000815190506129f3816129cd565b92915050565b600060208284031215612a0f57612a0e612813565b5b6000612a1d848285016129e4565b91505092915050565b6000612a318261281d565b9050919050565b6000612a4382612a26565b9050919050565b612a5381612a38565b8114612a5e57600080fd5b50565b600081519050612a7081612a4a565b92915050565b600060208284031215612a8c57612a8b612813565b5b6000612a9a84828501612a61565b91505092915050565b600081519050612ab281612919565b92915050565b600060208284031215612ace57612acd612813565b5b6000612adc84828501612aa3565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000612b1f826128bb565b9150612b2a836128bb565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115612b5f57612b5e612ae5565b5b828201905092915050565b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b612bb882612b6f565b810181811067ffffffffffffffff82111715612bd757612bd6612b80565b5b80604052505050565b6000612bea612809565b9050612bf68282612baf565b919050565b600067ffffffffffffffff821115612c1657612c15612b80565b5b602082029050602081019050919050565b600080fd5b600081519050612c3b8161284f565b92915050565b6000612c54612c4f84612bfb565b612be0565b90508083825260208201905060208402830185811115612c7757612c76612c27565b5b835b81811015612ca05780612c8c8882612c2c565b845260208401935050602081019050612c79565b5050509392505050565b600082601f830112612cbf57612cbe612b6a565b5b8151612ccf848260208601612c41565b91505092915050565b600060208284031215612cee57612ced612813565b5b600082015167ffffffffffffffff811115612d0c57612d0b612818565b5b612d1884828501612caa565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b60008060408385031215612d6757612d66612813565b5b6000612d7585828601612c2c565b9250506020612d8685828601612c2c565b9150509250929050565b6000819050919050565b6000612da582612d90565b9150612db083612d90565b9250817f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03831360008312151615612deb57612dea612ae5565b5b817f8000000000000000000000000000000000000000000000000000000000000000038312600083121615612e2357612e22612ae5565b5b828201905092915050565b6000612e3982612d90565b9150612e4483612d90565b9250827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0482116000841360008413161615612e8357612e82612ae5565b5b817f80000000000000000000000000000000000000000000000000000000000000000583126000841260008413161615612ec057612ebf612ae5565b5b827f80000000000000000000000000000000000000000000000000000000000000000582126000841360008412161615612efd57612efc612ae5565b5b827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0582126000841260008412161615612f3a57612f39612ae5565b5b828202905092915050565b6000612f50826128bb565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415612f8357612f82612ae5565b5b600182019050919050565b6000604082019050612fa360008301856128ef565b612fb060208301846128c5565b9392505050565b600082825260208201905092915050565b7f4e6f2072652d656e7472616e6379000000000000000000000000000000000000600082015250565b6000612ffe600e83612fb7565b915061300982612fc8565b602082019050919050565b6000602082019050818103600083015261302d81612ff1565b9050919050565b60006020828403121561304a57613049612813565b5b600061305884828501612c2c565b91505092915050565b600060608201905061307660008301866128ef565b61308360208301856128ef565b61309060408301846128c5565b949350505050565b60006130a3826128bb565b91506130ae836128bb565b9250828210156130c1576130c0612ae5565b5b828203905092915050565b600081905092915050565b50565b60006130e76000836130cc565b91506130f2826130d7565b600082019050919050565b6000613108826130da565b9150819050919050565b7f4661696c656420746f2073656e64204574686572000000000000000000000000600082015250565b6000613148601483612fb7565b915061315382613112565b602082019050919050565b600060208201905081810360008301526131778161313b565b9050919050565b600069ffffffffffffffffffff82169050919050565b61319d8161317e565b81146131a857600080fd5b50565b6000815190506131ba81613194565b92915050565b6131c981612d90565b81146131d457600080fd5b50565b6000815190506131e6816131c0565b92915050565b600080600080600060a0868803121561320857613207612813565b5b6000613216888289016131ab565b9550506020613227888289016131d7565b945050604061323888828901612aa3565b935050606061324988828901612aa3565b925050608061325a888289016131ab565b915050929550929590935056fea26469706673582212207dd266db3f0566c7c8e88d0ee7ecf1baccf7973ed69efa2681967fe6ea229b4064736f6c63430008090033",
  "devdoc": {
    "details": "This contract facilitates token swaps by interacting with liquidity pools. It supports direct swaps between two tokens in a single pool, or routed swaps through an intermediary token. Utilizes the PoolTracker contract to find liquidity pools and perform the necessary asset exchanges.",
    "kind": "dev",
    "methods": {
      "constructor": {
        "params": {
          "tracker": "The PoolTracker contract address."
        }
      },
      "getSwapAmount(address,address,uint256)": {
        "details": "Considers direct swaps and routed swaps through an intermediary token, utilizing PoolTracker for calculations.",
        "params": {
          "address1": "The token being sold.",
          "address2": "The token being bought.",
          "inputAmount": "The amount of `address1` tokens to swap."
        },
        "returns": {
          "_0": "output The estimated amount of `address2` tokens to be received."
        }
      },
      "getSwapFee(address,address)": {
        "details": "Calculates the total swap fee, accounting for both direct and routed swaps, by querying the associated pools.",
        "params": {
          "address1": "The source token address.",
          "address2": "The destination token address."
        },
        "returns": {
          "_0": "fee The total swap fee for the transaction."
        }
      },
      "swapAsset(address,address,uint256)": {
        "details": "This function supports direct swaps between tokens in a single pool or routed swaps through an intermediary token. Uses PoolTracker to determine the best swap path and perform the exchange.",
        "params": {
          "address1": "The token being sold by the user.",
          "address2": "The token being purchased by the user.",
          "inputAmount": "The amount of `address1` tokens to swap."
        }
      },
      "tokenToRoute(address,address)": {
        "details": "Determines the optimal routing token for a swap between two tokens, based on available liquidity and price feeds.",
        "params": {
          "address1": "The address of the first token.",
          "address2": "The address of the second token."
        },
        "returns": {
          "_0": "address The address of the optimal routing token."
        }
      }
    },
    "title": "SwapRouter",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "constructor": {
        "notice": "Constructs the SwapRouter and initializes the PoolTracker reference."
      },
      "getSwapAmount(address,address,uint256)": {
        "notice": "Estimates the output amount for a swap from `address1` to `address2` given an `inputAmount` of `address1`."
      },
      "getSwapFee(address,address)": {
        "notice": "Retrieves the swap fee required for a swap between `address1` and `address2`."
      },
      "swapAsset(address,address,uint256)": {
        "notice": "Swaps `inputAmount` of `address1` tokens for `address2` tokens."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 2414,
        "contract": "contracts/Dex/WeaveSwap.sol:SwapRouter",
        "label": "poolTracker",
        "offset": 0,
        "slot": "0",
        "type": "t_contract(PoolTracker)2389"
      },
      {
        "astId": 2416,
        "contract": "contracts/Dex/WeaveSwap.sol:SwapRouter",
        "label": "locked",
        "offset": 20,
        "slot": "0",
        "type": "t_bool"
      }
    ],
    "types": {
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(PoolTracker)2389": {
        "encoding": "inplace",
        "label": "contract PoolTracker",
        "numberOfBytes": "20"
      }
    }
  }
}